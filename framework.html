<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TrashCloud - Framework Odpadów</title>
    <script data-goatcounter="https://trashcloudcounter.goatcounter.com/count"
        async src="//gc.zgo.at/count.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #f5f5f5 0%, #ffffff 50%, #f0f0f0 100%) !important;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
            margin: 0;
            padding: 0;
            width: 100vw;
            line-height: 1.6;
        }

        /* Wzór w tle - subtelne linie */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(45deg, rgba(255,255,255,0.1) 1px, transparent 1px),
                linear-gradient(-45deg, rgba(255,255,255,0.1) 1px, transparent 1px);
            background-size: 20px 20px;
            background-position: 0px 0px;
            pointer-events: none;
            z-index: -1;
            will-change: transform;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 80px 20px 40px;
            min-height: 100vh;
            position: relative;
            z-index: 5;
        }

        /* Back button in top left - wcięty w kraniec ekranu */
        .back-button {
            position: fixed;
            top: 20px;
            left: 0;
            background: linear-gradient(135deg, #8BC34A, #689F38);
            color: white;
            padding: 12px 25px 12px 30px;
            text-decoration: none;
            font-weight: bold;
            font-size: 14px;
            border-radius: 0 25px 25px 0;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
            z-index: 30;
            display: flex;
            align-items: center;
            gap: 8px;
            opacity: 0;
            transform: translateX(-100%);
            animation: slideInFromLeft 1s ease 0.6s forwards;
        }

        .back-button:hover {
            transform: translateX(0) scale(1.05);
            box-shadow: 0 6px 12px rgba(0,0,0,0.3);
            background: linear-gradient(135deg, #9CCC65, #7CB342);
        }

        .back-button::before {
            content: '←';
            font-size: 18px;
            font-weight: bold;
        }

        /* Language switcher in top right - similar to index */
        .language-switcher {
            position: fixed;
            top: 20px;
            right: 20px;
            opacity: 0;
            transform: translateY(-30px);
            transition: all 0.8s ease 0.8s;
            cursor: pointer;
            z-index: 30;
        }

        .language-switcher.animate-in {
            opacity: 1;
            transform: translateY(0);
        }

        .flag {
            width: 40px;
            height: 26px;
            border: 2px solid #ccc;
            border-radius: 4px;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }

        .flag:hover {
            transform: scale(1.1);
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        }

        .flag.uk {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 60 30'%3E%3Crect width='60' height='30' fill='%23012169'/%3E%3Cg stroke='%23fff'%3E%3Cpath d='m0,0 60,30M60,0 0,30' stroke-width='6'/%3E%3Cpath d='m0,0 60,30M60,0 0,30' stroke='%23C8102E' stroke-width='2'/%3E%3C/g%3E%3Cg stroke='%23fff'%3E%3Cpath d='m30,0v30M0,15h60' stroke-width='10'/%3E%3Cpath d='m30,0v30M0,15h60' stroke='%23C8102E' stroke-width='6'/%3E%3C/g%3E%3C/svg%3E");
            background-size: cover;
            background-repeat: no-repeat;
            background-position: center;
        }

        .flag.pl {
            background: linear-gradient(to bottom, #fff 50%, #DC143C 50%);
        }

        @keyframes slideInFromLeft {
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        /* Page title */
        .page-title {
            font-size: 48px;
            font-weight: bold;
            color: #333;
            margin-bottom: 50px;
            text-align: center;
            background: linear-gradient(135deg, #8BC34A, #689F38);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            position: relative;
            z-index: 5;
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 1s ease 0.2s forwards;
        }

        /* Statistics grid */
        .statistics-grid {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 40px;
            margin: 60px 0;
            position: relative;
            z-index: 5;
        }

        .statistic-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            border-top: 5px solid #8BC34A;
            padding: 40px 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
            text-align: center;
            position: relative;
            overflow: hidden;
            transition: all 0.4s ease;
            z-index: 5;
            opacity: 0;
            transform: translateY(50px);
        }

        .statistic-card:nth-child(1) {
            animation: fadeInUp 1s ease 0.4s forwards;
        }

        .statistic-card:nth-child(2) {
            animation: fadeInUp 1s ease 0.6s forwards;
        }

        .statistic-card:nth-child(3) {
            animation: fadeInUp 1s ease 0.8s forwards;
        }

        .statistic-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 30px 60px rgba(0,0,0,0.15);
        }

        /* Decorative background pattern for each card */
        .statistic-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0.03;
            background-size: 40px 40px;
            background-image: radial-gradient(circle, #8BC34A 1px, transparent 1px);
            pointer-events: none;
        }

        /* Main statistic number - WSZYSTKIE CZERWONE */
        .main-statistic {
            font-size: 54px;
            font-weight: bold;
            margin-bottom: 15px;
            position: relative;
            z-index: 6;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
            color: #DC143C;
        }

        /* Secondary statistic */
        .secondary-statistic {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 20px;
            color: #666;
            position: relative;
            z-index: 6;
        }

        /* Description text */
        .statistic-description {
            font-size: 16px;
            color: #555;
            line-height: 1.6;
            position: relative;
            z-index: 6;
            margin-bottom: 20px;
        }

        /* Source */
        .statistic-source {
            font-size: 14px;
            color: #888;
            font-style: italic;
            position: relative;
            z-index: 6;
            padding-top: 15px;
            border-top: 1px solid rgba(0,0,0,0.1);
        }

        /* Content section below statistics */
        .content-section {
            max-width: 1000px;
            margin: 80px auto 0;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 15px 30px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
            border-left: 5px solid #8BC34A;
            position: relative;
            z-index: 5;
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 1s ease 1.2s forwards;
        }

        .content-text {
            font-size: 16px;
            line-height: 1.8;
            color: #444;
            margin-bottom: 20px;
            text-align: justify;
        }

        .content-text:last-child {
            margin-bottom: 0;
        }

        /* Animation keyframes */
        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Floating elements - zielone koła POD treścią */
        .floating-element {
            position: absolute;
            background: #8BC34A;
            border-radius: 50%;
            animation: float 8s ease-in-out infinite;
            pointer-events: none;
            opacity: 0.1;
            z-index: 1;
        }

        .floating-element:nth-child(1) {
            width: 80px;
            height: 80px;
            top: 10%;
            left: 5%;
            animation-delay: 0s;
        }

        .floating-element:nth-child(2) {
            width: 60px;
            height: 60px;
            top: 70%;
            right: 10%;
            animation-delay: 3s;
        }

        .floating-element:nth-child(3) {
            width: 100px;
            height: 100px;
            bottom: 20%;
            left: 10%;
            animation-delay: 6s;
        }

        @keyframes float {
            0%, 100% {
                transform: translateY(0px) rotate(0deg);
            }
            33% {
                transform: translateY(-30px) rotate(120deg);
            }
            66% {
                transform: translateY(-15px) rotate(240deg);
            }
        }

        /* Language transition effects */
        .language-transition {
            transition: opacity 0.3s ease-in-out;
        }

        .language-transition.fade-out {
            opacity: 0;
        }

        .no-transitions, .no-transitions * {
            transition: none !important;
        }

        /* Responsive design */
        @media (max-width: 1200px) {
            .statistics-grid {
                gap: 30px;
            }
            
            .statistic-card {
                padding: 35px 25px;
            }
        }

        @media (max-width: 900px) {
            .statistics-grid {
                grid-template-columns: 1fr;
                gap: 30px;
                max-width: 600px;
                margin: 40px auto;
            }
            
            .container {
                padding: 60px 15px 20px;
            }
            
            .page-title {
                font-size: 36px;
                margin-bottom: 40px;
            }
            
            .main-statistic {
                font-size: 48px;
            }
            
            .floating-element {
                display: none;
            }
        }

        @media (max-width: 600px) {
            .statistic-card {
                padding: 30px 20px;
            }
            
            .main-statistic {
                font-size: 42px;
            }
            
            .secondary-statistic {
                font-size: 20px;
            }
            
            .page-title {
                font-size: 28px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Floating decorative elements -->
        <div class="floating-element"></div>
        <div class="floating-element"></div>
        <div class="floating-element"></div>

        <!-- Back button -->
        <a href="index.html" class="back-button" 
           data-en="Back to Home" 
           data-pl="Powrót do strony głównej">Powrót do strony głównej</a>

        <!-- Language switcher -->
        <div class="language-switcher" id="languageSwitcher">
            <div class="flag uk" id="languageFlag"></div>
        </div>

        <!-- Page title -->
        <h1 class="page-title" id="pageTitle"
            data-en="Waste Framework" 
            data-pl="Framework Odpadów">Framework Odpadów</h1>

        <!-- Statistics grid -->
        <div class="statistics-grid">
            <!-- Poland Municipal Waste -->
            <div class="statistic-card">
                <div class="main-statistic">640 000</div>
                <div class="secondary-statistic" 
                     data-en="tons" 
                     data-pl="ton">ton</div>
                <div class="statistic-description"
                     data-en="of municipal bulky waste produced annually in Poland"
                     data-pl="odpadów komunalnych typu gabarytowego produkowanych rocznie w Polsce">
                    odpadów komunalnych typu gabarytowego produkowanych rocznie w Polsce
                </div>
                <div class="statistic-source"
                     data-en="Source: Statistics Poland Environmental Protection 2024"
                     data-pl="Źródło: GUS Ochrona Środowiska 2024">
                    Źródło: GUS Ochrona Środowiska 2024
                </div>
            </div>

            <!-- Eastern Europe Waste -->
            <div class="statistic-card">
                <div class="main-statistic">45%</div>
                <div class="secondary-statistic"
                     data-en="of all waste"
                     data-pl="wszystkich odpadów">wszystkich odpadów</div>
                <div class="statistic-description"
                     data-en="in Eastern Europe ends up in landfills"
                     data-pl="w Europie Wschodniej trafia na wysypiska i podlega składowaniu">
                    w Europie Wschodniej trafia na wysypiska i podlega składowaniu
                </div>
                <div class="statistic-source"
                     data-en="Source: UN Global Waste Management 2024"
                     data-pl="Źródło: UN Global Waste Management 2024">
                    Źródło: UN Global Waste Management 2024
                </div>
            </div>

            <!-- Global Waste Prediction -->
            <div class="statistic-card">
                <div class="main-statistic">2,12 → 3,79</div>
                <div class="secondary-statistic"
                     data-en="billion tons"
                     data-pl="miliardów ton">miliardów ton</div>
                <div class="statistic-description"
                     data-en="of waste globally - predicted growth between 2020 and 2050"
                     data-pl="odpadów globalnie to prognozowany wzrost między 2020 a 2050 rokiem">
                    odpadów globalnie to prognozowany wzrost między 2020 a 2050 rokiem
                </div>
                <div class="statistic-source"
                     data-en="Source: UN Global Waste Management 2024"
                     data-pl="Źródło: UN Global Waste Management 2024">
                    Źródło: UN Global Waste Management 2024
                </div>
            </div>
        </div>

        <!-- Additional content section -->
        <div class="content-section">
            <p class="content-text" id="contentText1"
               data-en="Throughout Europe, and especially in its eastern part, waste management still relies significantly on landfilling. This means that huge amounts of materials that could be reused or recycled permanently lose their value, instead of returning to circulation."
               data-pl="W całej Europie, a szczególnie w jej wschodniej części, gospodarka odpadami wciąż opiera się w znacznym stopniu na składowaniu. Oznacza to, że ogromne ilości materiałów, które mogłyby zostać ponownie wykorzystane lub przetworzone, bezpowrotnie tracą swoją wartość, zamiast wracać do obiegu.">
                W całej Europie, a szczególnie w jej wschodniej części, gospodarka odpadami wciąż opiera się w znacznym stopniu na składowaniu. Oznacza to, że ogromne ilości materiałów, które mogłyby zostać ponownie wykorzystane lub przetworzone, bezpowrotnie tracą swoją wartość, zamiast wracać do obiegu.
            </p>
            <p class="content-text" id="contentText2"
               data-en="At the same time, there is great potential hidden in bulky waste – these are often items that are still functional or suitable for repair, conversion or use in another way. Furniture, household appliances, home furnishings or building materials are resources that in many cases could find a second life."
               data-pl="Jednocześnie w odpadach gabarytowych kryje się duży potencjał – to często przedmioty nadal funkcjonalne lub nadające się do naprawy, przeróbki czy wykorzystania w inny sposób. Meble, sprzęt AGD, elementy wyposażenia mieszkań czy materiały budowlane to zasoby, które w wielu przypadkach mogłyby znaleźć drugie życie.">
                Jednocześnie w odpadach gabarytowych kryje się duży potencjał – to często przedmioty nadal funkcjonalne lub nadające się do naprawy, przeróbki czy wykorzystania w inny sposób. Meble, sprzęt AGD, elementy wyposażenia mieszkań czy materiały budowlane to zasoby, które w wielu przypadkach mogłyby znaleźć drugie życie.
            </p>
            <p class="content-text" id="contentText3"
               data-en="The lack of transparency in this waste stream means that neither residents nor municipalities have real knowledge of how many valuable items end up in the garbage. This in turn hinders the development of a circular economy and strengthens the 'buy-use-throw away' model, which generates an increasing environmental burden."
               data-pl="Brak przejrzystości w tym strumieniu odpadów sprawia, że ani mieszkańcy, ani gminy nie mają realnej wiedzy, jak wiele wartościowych przedmiotów trafia na śmietnik. To z kolei utrudnia rozwój gospodarki o obiegu zamkniętym i wzmacnia model „kup–zużyj–wyrzuć", który generuje coraz większe obciążenie środowiskowe.">
                Brak przejrzystości w tym strumieniu odpadów sprawia, że ani mieszkańcy, ani gminy nie mają realnej wiedzy, jak wiele wartościowych przedmiotów trafia na śmietnik. To z kolei utrudnia rozwój gospodarki o obiegu zamkniętym i wzmacnia model „kup–zużyj–wyrzuć", który generuje coraz większe obciążenie środowiskowe.
            </p>
        </div>
    </div>

    <script>
        // Globalna zmienna języka - synchronizacja z localStorage z obsługą błędów
        let currentLanguage = 'pl';
        try {
            currentLanguage = localStorage.getItem('trashcloud-language') || 'pl';
        } catch (e) {
            console.warn('localStorage niedostępny:', e);
        }

        // Przełączanie języka
        function switchLanguage() {
            const container = document.querySelector('.container');
            const flag = document.getElementById('languageFlag');
            
            console.log('Przed zmianą - język:', currentLanguage, 'flaga:', flag.className);
            
            container.classList.add('language-transition', 'fade-out');
            
            setTimeout(() => {
                // Przełącz język
                currentLanguage = currentLanguage === 'pl' ? 'en' : 'pl';
                
                console.log('Po zmianie - język:', currentLanguage);
                
                // Zapisz język w localStorage z obsługą błędów
                try {
                    localStorage.setItem('trashcloud-language', currentLanguage);
                } catch (e) {
                    console.warn('Nie można zapisać do localStorage:', e);
                }
                
                // Ustaw flagę - gdy język polski, pokaż flagę UK (do przełączenia na angielski)
                if (currentLanguage === 'pl') {
                    flag.className = 'flag uk'; // język PL → pokaż UK flag
                    document.documentElement.lang = 'pl';
                } else {
                    flag.className = 'flag pl'; // język EN → pokaż PL flag
                    document.documentElement.lang = 'en';
                }
                
                console.log('Nowa flaga:', flag.className);
                
                updateTexts();
                resetAnimations();
                
                setTimeout(() => {
                    container.classList.remove('fade-out');
                    startAnimations();
                }, 50);
            }, 300);
            
            setTimeout(() => {
                container.classList.remove('language-transition');
            }, 1200);
        }

        // Aktualizacja tekstów
        function updateTexts() {
            const elementsWithData = document.querySelectorAll('[data-en][data-pl]');
            
            elementsWithData.forEach(element => {
                const key = currentLanguage === 'en' ? 'data-en' : 'data-pl';
                if (element.hasAttribute(key)) {
                    element.textContent = element.getAttribute(key);
                }
            });
        }

        // Reset animacji - BEZ resetowania flagi
        function resetAnimations() {
            const animatedElements = document.querySelectorAll('.page-title, .statistic-card, .content-section, .back-button');
            
            animatedElements.forEach(el => {
                el.classList.add('no-transitions');
                el.style.opacity = '0';
                el.style.transform = 'translateY(50px)';
            });
            
            setTimeout(() => {
                animatedElements.forEach(el => el.classList.remove('no-transitions'));
            }, 50);
        }

        // Start animacji
        function startAnimations() {
            const pageTitle = document.querySelector('.page-title');
            const cards = document.querySelectorAll('.statistic-card');
            const contentSection = document.querySelector('.content-section');
            const languageSwitcher = document.querySelector('.language-switcher');

            setTimeout(() => { pageTitle.style.opacity = '1'; pageTitle.style.transform = 'translateY(0)'; }, 200);
            setTimeout(() => { languageSwitcher.classList.add('animate-in'); }, 800);
            
            cards.forEach((card, index) => {
                setTimeout(() => {
                    card.style.opacity = '1';
                    card.style.transform = 'translateY(0)';
                }, 400 + (index * 200));
            });
            
            setTimeout(() => { 
                contentSection.style.opacity = '1'; 
                contentSection.style.transform = 'translateY(0)'; 
            }, 1200);
        }

        // Parallax effect
        function initParallax() {
            // Set initial background position to prevent jumping
            document.body.style.backgroundPosition = '0px 0px';
            
            document.addEventListener('mousemove', (e) => {
                const moveX = (e.clientX - window.innerWidth / 2) * 0.005;
                const moveY = (e.clientY - window.innerHeight / 2) * 0.005;
                
                document.body.style.backgroundPosition = `${moveX}px ${moveY}px`;
            });
        }

        // Inicjalizacja
        document.addEventListener('DOMContentLoaded', () => {
            // Pobierz zapisany język z localStorage z obsługą błędów
            try {
                const savedLanguage = localStorage.getItem('trashcloud-language') || 'pl';
                currentLanguage = savedLanguage;
            } catch (e) {
                console.warn('localStorage niedostępny:', e);
                currentLanguage = 'pl';
            }
            
            // Ustaw flagę i język zgodnie z aktualnym językiem
            const flag = document.getElementById('languageFlag');
            if (currentLanguage === 'pl') {
                flag.className = 'flag uk'; // język PL → pokaż flagę UK (do zmiany na EN)
                document.documentElement.lang = 'pl';
            } else {
                flag.className = 'flag pl'; // język EN → pokaż flagę PL (do zmiany na PL)
                document.documentElement.lang = 'en';
                updateTexts();
            }

            initParallax();
            
            // Obsługa przełączania języka
            document.getElementById('languageSwitcher').addEventListener('click', switchLanguage);
            
            // Start animacji po załadowaniu
            setTimeout(() => {
                document.querySelector('.language-switcher').classList.add('animate-in');
            }, 800);
            
            // Card hover effects
            document.querySelectorAll('.statistic-card').forEach(card => {
                card.addEventListener('mouseenter', () => {
                    card.style.transform = 'translateY(-10px) scale(1.02)';
                });
                
                card.addEventListener('mouseleave', () => {
                    card.style.transform = 'translateY(0) scale(1)';
                });
            });
        });

        // Synchronizacja języka przy powrocie
        window.addEventListener('pageshow', (event) => {
            try {
                const savedLanguage = localStorage.getItem('trashcloud-language') || 'pl';
                if (savedLanguage !== currentLanguage) {
                    currentLanguage = savedLanguage;
                    const flag = document.getElementById('languageFlag');
                    
                    if (currentLanguage === 'pl') {
                        flag.className = 'flag uk'; // język PL → pokaż UK flag
                        document.documentElement.lang = 'pl';
                    } else {
                        flag.className = 'flag pl'; // język EN → pokaż PL flag
                        document.documentElement.lang = 'en';
                    }
                    updateTexts();
                }
            } catch (e) {
                console.warn('localStorage niedostępny przy powrocie:', e);
            }
        });
    </script>
</body>
</html>
